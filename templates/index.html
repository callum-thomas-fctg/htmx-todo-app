{{ define "title" }}Todos{{ end }}
{{ define "scripts" }}{{ end }}

{{ define "body" }}
<div class="flex items-center justify-center mx-auto min-h-screen w-full">
	<div class="flex flex-col gap-y-4 p-6 border rounded-lg justify-center items-center max-w-2xl h-full">
		<h2 class="text-2xl font-sans font-bold">Your Todos</h2>
		<div class="flex flex-col gap-2">
			{{ range .Todos }}
			<div class="flex flex-row gap-2">
				<span class="min-w-96 text-lg">{{ .Text }}</span>
				{{ if .Completed }}
				<input hx-trigger="click" hx-post="/todo/{{ .Id }}/toggle" hx-swap="outerHTML"
					hx-target="closest div" type="checkbox" checked></input>
				{{ else }}
				<input hx-trigger="click" hx-post="/todo/{{ .Id }}/toggle" hx-swap="outerHTML"
					hx-target="closest div" type="checkbox"></input>
				{{ end }}
			</div>
			{{ end }}
		</div>
		<form hx-post="/todo" hx-swap="beforeend" hx-target="#todos">
			<div class="flex flex-row gap-2">
				<input class="border rounded p-2" placeholder="New todo!"></input>
				<button type="submit"
					class="border-2 p-4 border-black rounded-lg bg-blue-400 text-white">
					<span>Add</span>
					<img src="/static/spinner.svg" class="hx-indicator animate-spin">
				</button>
			</div>
		</form>
	</div>
</div>
{{ end }}
